(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-merchant-list"],{"10c4":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content b-t"},[i("v-uni-view",{staticClass:"m-list"},t._l(t.merchantList,(function(e,n){return i("v-uni-view",{key:n,staticClass:"list b-b",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.selectMerchant(e)}}},[i("v-uni-view",{staticClass:"wrapper"},[i("v-uni-view",{staticClass:"merchant-box"},[i("v-uni-text",{staticClass:"merchant"},[t._v(t._s(e.merchantName))])],1),i("v-uni-view",{staticClass:"u-box"},[i("v-uni-text",{staticClass:"name"},[t._v(t._s(e.merchantAddress))])],1),i("v-uni-view",{staticClass:"u-box"},[i("v-uni-text",{staticClass:"name"},[t._v(t._s(e.mobileNo))])],1)],1),i("v-uni-view",{staticClass:"distance"},[i("v-uni-view",[t._v(t._s(e.distance)+t._s(t.i18n.km))])],1)],1)})),1)],1)},o=[]},"280c":function(t,e,i){"use strict";i.r(e);var n=i("2f09"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"2c18":function(t,e,i){"use strict";var n=i("f81a"),a=i.n(n);a.a},"2f09":function(t,e,i){"use strict";var n=i("4ea4");i("4160"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("5530")),o=i("2f62"),s={components:{},data:function(){return{title:"map",latitude:30.656520225,longitude:104.0659332275,scale:10,showLocation:!0,covers:[],merchantList:[]}},onLoad:function(t){var e=this;uni.setNavigationBarTitle({title:e.$i18n.merchant.listTitle}),uni.getLocation({type:"gcj02",success:function(t){console.log("当前位置的经度："+t.longitude),console.log("当前位置的纬度："+t.latitude),this.latitude=t.latitude,this.longitude=t.longitude},complete:function(t){e.inquiryNearbyMerchant(t.latitude,t.longitude)}})},computed:(0,a.default)({i18n:function(){return this.$i18nMsg().index}},(0,o.mapState)(["hasLogin","userInfo"])),methods:{selectMerchant:function(t){this.$api.prePage().merchantData=t,uni.navigateBack()},openLocation:function(t){uni.openLocation({latitude:t.latitude,longitude:t.longitude,success:function(){console.log("打开地图成功")}})},findCover:function(t){var e=[];e.push(this.getCover(t)),this.covers=e},getCover:function(t){return{latitude:t.latitude,longitude:t.longitude,width:40,height:40,iconPath:"../../static/image/address.png",callout:{content:t.merchantName,borderRadius:"10",bgColor:"#F44F31",color:"#FFFFFF",padding:5,display:"ALWAYS",textAlign:"center"}}},inquiryNearbyMerchant:function(t,e){var i=this,n=this;this.$api.request.nearbyMerchant({userLatitude:t||this.latitude,userLongitude:e||this.longitude},(function(t){if("0"===t.body.status.statusCode){i.merchantList=t.body.data.merchants;var e=[];i.merchantList.forEach((function(t,i){e.push(n.getCover(t))})),i.covers=e}else i.$api.msg(t.body.status.errorDesc)}))}}};e.default=s},b5b7:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-430c2476]{padding-bottom:%?120?%}.content[data-v-430c2476]{position:relative}.list[data-v-430c2476]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?20?% %?30?%;background:#fff;position:relative}.list .distance[data-v-430c2476]{color:#909399;font-size:%?28?%;text-align:right}.list .distance uni-image[data-v-430c2476]{width:%?60?%;height:%?60?%}.wrapper[data-v-430c2476]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex:1;flex:1}.merchant-box[data-v-430c2476]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.merchant-box .tag[data-v-430c2476]{font-size:%?24?%;color:#55aa7f;margin-right:%?10?%;background:#fffafb;border:1px solid #ffb4c7;-webkit-border-radius:%?4?%;border-radius:%?4?%;padding:%?4?% %?10?%;line-height:1}.merchant-box .merchant[data-v-430c2476]{font-size:%?30?%;color:#303133}.u-box[data-v-430c2476]{font-size:%?28?%;color:#909399;margin-top:%?16?%}.u-box .name[data-v-430c2476]{margin-right:%?30?%}.icon-bianji[data-v-430c2476]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?80?%;font-size:%?40?%;color:#909399;padding-left:%?30?%}.amap[data-v-430c2476]{width:100%;height:300px;position:fixed;top:44px;left:0;z-index:999}.m-list[data-v-430c2476]{width:100%}',""]),t.exports=e},cba1:function(t,e,i){"use strict";i.r(e);var n=i("10c4"),a=i("280c");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("2c18");var s,c=i("f0c5"),r=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"430c2476",null,!1,n["a"],s);e["default"]=r.exports},f81a:function(t,e,i){var n=i("b5b7");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("1a6788e0",n,!0,{sourceMap:!1,shadowMode:!1})}}]);