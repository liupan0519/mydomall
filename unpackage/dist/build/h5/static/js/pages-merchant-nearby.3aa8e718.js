(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-merchant-nearby"],{"06b3":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-fb320fec]{padding-bottom:%?120?%}.content[data-v-fb320fec]{position:relative}.list[data-v-fb320fec]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?20?% %?30?%;background:#fff;position:relative}.list .distance[data-v-fb320fec]{color:#909399;font-size:%?28?%;text-align:right}.list .distance uni-image[data-v-fb320fec]{width:%?60?%;height:%?60?%}.wrapper[data-v-fb320fec]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex:1;flex:1}.merchant-box[data-v-fb320fec]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.merchant-box .tag[data-v-fb320fec]{font-size:%?24?%;color:#55aa7f;margin-right:%?10?%;background:#fffafb;border:1px solid #ffb4c7;-webkit-border-radius:%?4?%;border-radius:%?4?%;padding:%?4?% %?10?%;line-height:1}.merchant-box .merchant[data-v-fb320fec]{font-size:%?30?%;color:#303133}.u-box[data-v-fb320fec]{font-size:%?28?%;color:#909399;margin-top:%?16?%}.u-box .name[data-v-fb320fec]{margin-right:%?30?%}.icon-bianji[data-v-fb320fec]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?80?%;font-size:%?40?%;color:#909399;padding-left:%?30?%}.amap[data-v-fb320fec]{width:100%;height:300px;position:fixed;top:0;left:0;z-index:999}.m-list[data-v-fb320fec]{position:absolute;top:300px;left:0;width:100%}',""]),t.exports=e},"3c8a":function(t,e,i){"use strict";i.r(e);var a=i("bb44"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},8948:function(t,e,i){"use strict";var a=i("ccbd"),n=i.n(a);n.a},"9b5b":function(t,e,i){"use strict";i.r(e);var a=i("c80d"),n=i("3c8a");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("8948");var s,r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"fb320fec",null,!1,a["a"],s);e["default"]=c.exports},bb44:function(t,e,i){"use strict";var a=i("4ea4");i("4160"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("5530")),o=i("2f62"),s={components:{},data:function(){return{title:"map",latitude:30.656520225,longitude:104.0659332275,scale:10,showLocation:!0,covers:[],merchantList:[]}},onLoad:function(t){var e=this;uni.setNavigationBarTitle({title:e.$i18n.merchant.nearbyTitle}),uni.getLocation({type:"gcj02",success:function(t){console.log("当前位置的经度："+t.longitude),console.log("当前位置的纬度："+t.latitude),this.latitude=t.latitude,this.longitude=t.longitude},complete:function(t){e.inquiryNearbyMerchant(t.latitude,t.longitude)}})},computed:(0,n.default)({i18n:function(){return this.$i18nMsg().index}},(0,o.mapState)(["hasLogin","userInfo"])),methods:{openLocation:function(t){uni.openLocation({latitude:t.latitude,longitude:t.longitude,success:function(){console.log("打开地图成功")}})},findCover:function(t){var e=[];e.push(this.getCover(t)),this.covers=e},getCover:function(t){return{latitude:t.latitude,longitude:t.longitude,width:40,height:40,iconPath:"../../static/image/address.png",callout:{content:t.merchantName,borderRadius:"10",bgColor:"#F44F31",color:"#FFFFFF",padding:5,display:"ALWAYS",textAlign:"center"}}},inquiryNearbyMerchant:function(t,e){var i=this,a=this;this.$api.request.nearbyMerchant({userLatitude:t||this.latitude,userLongitude:e||this.longitude},(function(t){if("0"===t.body.status.statusCode){i.merchantList=t.body.data.merchants;var e=[];i.merchantList.forEach((function(t,i){e.push(a.getCover(t))})),i.covers=e}else i.$api.msg(t.body.status.errorDesc)}))}}};e.default=s},c80d:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"content b-t"},[a("v-uni-view",{staticClass:"amap"},[a("v-uni-map",{staticStyle:{height:"100%",width:"100%"},attrs:{"show-location":t.showLocation,scale:t.scale,latitude:t.latitude,longitude:t.longitude,markers:t.covers}})],1),a("v-uni-view",{staticClass:"m-list"},t._l(t.merchantList,(function(e,n){return a("v-uni-view",{key:n,staticClass:"list b-b"},[a("v-uni-view",{staticClass:"wrapper",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.findCover(e)}}},[a("v-uni-view",{staticClass:"merchant-box"},[a("v-uni-text",{staticClass:"merchant"},[t._v(t._s(e.merchantName))])],1),a("v-uni-view",{staticClass:"u-box"},[a("v-uni-text",{staticClass:"name"},[t._v(t._s(e.merchantAddress))])],1),a("v-uni-view",{staticClass:"u-box"},[a("v-uni-text",{staticClass:"name"},[t._v(t._s(e.mobileNo))])],1)],1),a("v-uni-view",{staticClass:"distance",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.openLocation(e)}}},[a("v-uni-view",[t._v(t._s(e.distance)+t._s(t.i18n.km))]),a("v-uni-image",{attrs:{src:i("d863").replace(/^\./,"")}}),a("v-uni-view",[t._v(t._s(t.i18n.goHere))])],1)],1)})),1)],1)},o=[]},ccbd:function(t,e,i){var a=i("06b3");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("5b96f0cc",a,!0,{sourceMap:!1,shadowMode:!1})},d863:function(t,e){t.exports="data:image/png;base64,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"}}]);