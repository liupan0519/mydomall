(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-deliverOrder"],{2749:function(e,i,t){"use strict";var r;t.d(i,"b",(function(){return n})),t.d(i,"c",(function(){return s})),t.d(i,"a",(function(){return r}));var n=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("v-uni-view",{staticClass:"container"},["1"==e.order.deliveryType?t("v-uni-view",[t("v-uni-view",{staticClass:"row"},[t("v-uni-text",{staticClass:"tit"},[e._v(e._s(e.i18n.courier.courierName))]),t("v-uni-picker",{staticClass:"input",attrs:{value:e.index,range:e.couriers},on:{change:function(i){arguments[0]=i=e.$handleEvent(i),e.bindPickerChange.apply(void 0,arguments)}}},[t("v-uni-view",{staticClass:"uni-input"},[e._v(e._s(e.couriers[e.index]))])],1),t("v-uni-text",{staticClass:"yticon icon-you"})],1),t("v-uni-view",{staticClass:"row"},[t("v-uni-text",{staticClass:"tit"},[e._v(e._s(e.i18n.courier.courierNo))]),t("v-uni-input",{staticClass:"input",attrs:{placeholder:e.i18n.courier.courierNo,"placeholder-class":"placeholder"},model:{value:e.courierNo,callback:function(i){e.courierNo=i},expression:"courierNo"}})],1),t("v-uni-button",{staticClass:"add-btn",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.save.apply(void 0,arguments)}}},[e._v(e._s(e.i18n.confirmBtn))])],1):e._e(),"2"==e.order.deliveryType?t("v-uni-view",[e.shoppers.length>0?t("v-uni-view",{staticClass:"row"},[t("v-uni-text",{staticClass:"tit"},[e._v(e._s(e.i18n.courier.shopper))]),t("v-uni-picker",{staticClass:"input",attrs:{"range-key":"name",value:e.index,range:e.shoppers},on:{change:function(i){arguments[0]=i=e.$handleEvent(i),e.shopperChange.apply(void 0,arguments)}}},[t("v-uni-view",{staticClass:"uni-input"},[e._v(e._s(e.shoppers[e.index].name))])],1),t("v-uni-text",{staticClass:"yticon icon-you"})],1):t("v-uni-view",[t("v-uni-view",{staticClass:"empty"},[e._v(e._s(e.i18n.courier.shopperEmpty))])],1),e.shoppers.length>0?t("v-uni-button",{staticClass:"add-btn",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.save.apply(void 0,arguments)}}},[e._v(e._s(e.i18n.confirmBtn))]):e._e(),0==e.shoppers.length?t("v-uni-button",{staticClass:"add-btn",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.back.apply(void 0,arguments)}}},[e._v(e._s(e.i18n.backBtn))]):e._e()],1):e._e(),"3"==e.order.deliveryType?t("v-uni-view",[t("v-uni-view",{staticClass:"row"},[t("v-uni-text",{staticClass:"tit"},[e._v(e._s(e.i18n.address.deliveryLongitude))]),t("v-uni-text",{staticClass:"input"},[e._v(e._s(e.order.deliveryName))])],1),t("v-uni-view",{staticClass:"row"},[t("v-uni-text",{staticClass:"tit"},[e._v(e._s(e.i18n.address.extractTel))]),t("v-uni-text",{staticClass:"input"},[e._v(e._s(e.order.deliveryContactNo))])],1),t("v-uni-button",{staticClass:"add-btn",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.save.apply(void 0,arguments)}}},[e._v(e._s(e.i18n.confirmBtn))])],1):e._e()],1)},s=[]},"321f":function(e,i,t){"use strict";var r=t("4ea4");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=r(t("5530")),s=r(t("0c1c")),o=t("2f62"),a={data:function(){return{current:0,courierName:this.$api.util.courierList[0],courierNo:"",couriers:this.$api.util.courierList,index:0,orderNo:"",order:"",shoppers:[],shopper:{}}},components:{wPicker:s.default},onLoad:function(e){uni.setNavigationBarTitle({title:this.i18n.order.deliverOrderTitle}),this.orderNo=e.orderNo,this.inquiryOrder(this.orderNo)},computed:(0,n.default)({i18n:function(){return this.$i18nMsg().index}},(0,o.mapState)(["hasLogin","merchantInfo"])),methods:{bindPickerChange:function(e){this.courierName=this.couriers[e.detail.value]},shopperChange:function(e){this.shopper=this.shoppers[e.detail.value],this.index=e.detail.value},inquiryOrder:function(e){var i=this;this.$api.request.orderDetail({orderNo:e},(function(e){"0"===e.body.status.statusCode?i.order=e.body.data:console.log(e.body.status.errorDesc)}))},back:function(){uni.navigateBack({delta:1})},save:function(){var e=this;if("1"==this.order.deliveryType){if(!this.courierName)return void this.$api.msg("请选择物流公司");if(!this.courierNo)return void this.$api.msg("请输入物流单号")}else if("2"==this.order.deliveryType&&(this.shopper=this.shoppers[this.index],!this.shopper.name))return void this.$api.msg("请选择配送员");this.$api.request.deliverOrder({orders:[{orderNo:this.order.orderNo,courierName:this.courierName,courierNo:this.courierNo,shopperName:this.shopper.name,shopperMobileNo:this.shopper.mobileNo,shopperSex:this.shopper.sex,shopperPhoto:this.shopper.photo}]},(function(i){"0"===i.body.status.statusCode?(e.$api.msg("订单已发货"),setTimeout((function(){uni.navigateBack({delta:1})}),1e3)):e.$api.msg(i.body.status.errorDesc)}))},inquiryShopper:function(){var e=this;this.$api.request.inquiryMerchantShopper({merchantDTO:{merchantUuid:this.merchantInfo.merchantUuid}},(function(i){"0"===i.body.status.statusCode?e.shoppers=i.body.data.shoppers:e.$api.msg(i.body.status.errorDesc)}))}},mounted:function(){this.inquiryShopper()}};i.default=a},"85a7":function(e,i,t){"use strict";var r=t("c759"),n=t.n(r);n.a},"8bfe":function(e,i,t){var r=t("24fb");i=r(!1),i.push([e.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-4c089b3f]{background:#f8f8f8}.row[data-v-4c089b3f]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative;padding:0 %?30?%;height:%?110?%;background:#fff}.row .tit[data-v-4c089b3f]{-webkit-flex-shrink:0;flex-shrink:0;width:%?180?%;font-size:%?30?%;color:#303133}.row .input[data-v-4c089b3f]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?30?%;color:#303133}.row .icon-shouhuodizhi[data-v-4c089b3f]{font-size:%?36?%;color:#909399}.empty[data-v-4c089b3f]{text-align:center;font-size:%?24?%;color:#909399;margin:40px 0}.add-btn[data-v-4c089b3f]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?690?%;height:%?80?%;margin:%?60?% auto;font-size:%?32?%;color:#fff;background-color:#55aa7f;-webkit-border-radius:%?10?%;border-radius:%?10?%;-webkit-box-shadow:1px 2px 5px rgba(219,63,96,.4);box-shadow:1px 2px 5px rgba(219,63,96,.4)}body.?%PAGE?%[data-v-4c089b3f]{background:#f8f8f8}',""]),e.exports=i},"9f80":function(e,i,t){"use strict";t.r(i);var r=t("321f"),n=t.n(r);for(var s in r)"default"!==s&&function(e){t.d(i,e,(function(){return r[e]}))}(s);i["default"]=n.a},c759:function(e,i,t){var r=t("8bfe");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=t("4f06").default;n("b6b8f34c",r,!0,{sourceMap:!1,shadowMode:!1})},e836:function(e,i,t){"use strict";t.r(i);var r=t("2749"),n=t("9f80");for(var s in n)"default"!==s&&function(e){t.d(i,e,(function(){return n[e]}))}(s);t("85a7");var o,a=t("f0c5"),c=Object(a["a"])(n["default"],r["b"],r["c"],!1,null,"4c089b3f",null,!1,r["a"],o);i["default"]=c.exports}}]);