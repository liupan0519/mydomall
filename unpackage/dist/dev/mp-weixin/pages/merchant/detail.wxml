<view><view class="top-section"><u-row vue-id="797497d7-1" gutter="16" bind:__l="__l" vue-slots="{{['default']}}"><u-col vue-id="{{('797497d7-2')+','+('797497d7-1')}}" span="2" bind:__l="__l" vue-slots="{{['default']}}"><u-avatar vue-id="{{('797497d7-3')+','+('797497d7-2')}}" src="{{merchant.logo}}" bind:__l="__l"></u-avatar></u-col><u-col vue-id="{{('797497d7-4')+','+('797497d7-1')}}" span="6" bind:__l="__l" vue-slots="{{['default']}}"><view class="title">{{merchant.merchantName}}</view><view data-event-opts="{{[['tap',[['openLocation',['$event']]]]]}}" class="desc" bindtap="__e"><u-icon vue-id="{{('797497d7-5')+','+('797497d7-4')}}" name="map-fill" color="#666" size="30" bind:__l="__l"></u-icon>{{merchant.merchantAddress}}</view><view class="desc"><u-icon vue-id="{{('797497d7-6')+','+('797497d7-4')}}" name="star-fill" color="#FC9F2A" size="30" bind:__l="__l"></u-icon>{{$root.g0+"      "+i18n.sold+merchant.soldUnit}}</view><view class="desc">{{merchant.followTotal+i18n.merchant.followedP}}</view></u-col><u-col vue-id="{{('797497d7-7')+','+('797497d7-1')}}" span="2" bind:__l="__l" vue-slots="{{['default']}}"><view><u-button vue-id="{{('797497d7-8')+','+('797497d7-7')}}" ripple="{{true}}" plain="{{true}}" type="error" size="mini" data-event-opts="{{[['^click',[['callMerchant']]]]}}" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}">{{i18n.merchant.contact}}</u-button></view></u-col><u-col vue-id="{{('797497d7-9')+','+('797497d7-1')}}" span="2" bind:__l="__l" vue-slots="{{['default']}}"><view><block wx:if="{{isFollowed}}"><u-button vue-id="{{('797497d7-10')+','+('797497d7-9')}}" ripple="{{true}}" plain="{{false}}" type="error" size="mini" data-event-opts="{{[['^click',[['cancelFollow']]]]}}" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}">{{i18n.merchant.followed}}</u-button></block><block wx:else><u-button vue-id="{{('797497d7-11')+','+('797497d7-9')}}" ripple="{{true}}" plain="{{true}}" type="error" size="mini" data-event-opts="{{[['^click',[['follow']]]]}}" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}">{{i18n.merchant.follow}}</u-button></block></view></u-col></u-row></view><u-gap vue-id="797497d7-12" height="10" bg-color="#f8f8f8" bind:__l="__l"></u-gap><block wx:if="{{couponList.length>0}}"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="coupon-section" bindtap="__e"><view><u-button style="margin-right:10px;height:20px;line-height:20px;" vue-id="797497d7-13" type="error" size="mini" bind:__l="__l" vue-slots="{{['default']}}">{{i18n.coupon.coupons}}</u-button></view><block wx:for="{{couponList}}" wx:for-item="item" wx:for-index="index"><block wx:if="{{index<3}}"><view><u-button style="margin-right:5px;height:20px;line-height:20px;" vue-id="{{'797497d7-14-'+index}}" type="error" plain="{{true}}" size="mini" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{item.conditionAmount>0}}"><text>{{i18n.coupon.full+item.conditionAmount}}</text></block><block wx:else><text>{{i18n.coupon.rightAway}}</text></block><block wx:if="{{item.type=='CASH'}}"><text>{{i18n.coupon.less+item.benefitCash}}</text></block><block wx:if="{{item.type=='DISCOUNT'}}"><text>{{i18n.coupon.enjoy+item.benefitDiscount/10+i18n.coupon.discount}}</text></block></u-button></view></block></block><view class="coupon-btn"><text class="yticon icon-you"></text></view></view></block><u-popup bind:input="__e" vue-id="797497d7-15" mode="bottom" closeable="{{true}}" border-radius="14" width="100%" height="800" value="{{showCoupon}}" data-event-opts="{{[['^input',[['__set_model',['','showCoupon','$event',[]]]]]]}}" bind:__l="__l" vue-slots="{{['default']}}"><view class="coupon-title">{{i18n.coupon.getCoupons}}</view><view class="coupon-list"><block wx:for="{{couponList}}" wx:for-item="item" wx:for-index="__i0__"><view class="coupon-list-item"><u-row vue-id="{{('797497d7-16-'+__i0__)+','+('797497d7-15')}}" bind:__l="__l" vue-slots="{{['default']}}"><u-col vue-id="{{('797497d7-17-'+__i0__)+','+('797497d7-16-'+__i0__)}}" span="4" bind:__l="__l" vue-slots="{{['default']}}"><view class="coupon-left"><view class="c1"><block wx:if="{{item.type=='CASH'}}"><text class="amount">{{item.benefitCash}}</text></block><block wx:if="{{item.type=='DISCOUNT'}}"><text class="discount">{{item.benefitDiscount/10}}</text></block></view><view class="c2"><block wx:if="{{item.conditionAmount>0}}"><text>{{''+i18n.coupon.full+item.conditionAmount+i18n.coupon.available}}</text></block><block wx:else><text>{{i18n.coupon.noThreshold}}</text></block></view></view></u-col><u-col class="coupon-right" vue-id="{{('797497d7-18-'+__i0__)+','+('797497d7-16-'+__i0__)}}" span="8" bind:__l="__l" vue-slots="{{['default']}}"><view class="c1"><block wx:if="{{item.benefitType=='0'}}"><text>{{i18n.coupon.benefitType0}}</text></block><block wx:if="{{item.benefitType=='1'}}"><text>{{i18n.coupon.benefitType1}}</text></block></view><view class="c2"><block wx:if="{{item.validType==1}}"><text>{{''+i18n.coupon.endDate+item.endDate}}</text></block><block wx:if="{{item.validType==2}}"><text>{{''+i18n.coupon.receive+item.validDays+i18n.coupon.validDays}}</text></block></view><view class="c3"><u-button vue-id="{{('797497d7-19-'+__i0__)+','+('797497d7-18-'+__i0__)}}" plain="{{true}}" size="mini " type="error" data-event-opts="{{[['^click',[['getCoupon',['$0'],[[['couponList','',__i0__]]]]]]]}}" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}">{{i18n.coupon.getCoupon}}</u-button></view></u-col></u-row></view></block></view></u-popup><u-gap vue-id="797497d7-20" height="10" bg-color="#f8f8f8" bind:__l="__l"></u-gap><view class="body-section"><u-row vue-id="797497d7-21" bind:__l="__l" vue-slots="{{['default']}}"><u-col vue-id="{{('797497d7-22')+','+('797497d7-21')}}" span="8" bind:__l="__l" vue-slots="{{['default']}}"><u-tabs vue-id="{{('797497d7-23')+','+('797497d7-22')}}" show-bar="{{true}}" active-color="{{baseColor}}" list="{{tabList}}" is-scroll="{{true}}" current="{{current}}" data-event-opts="{{[['^change',[['change']]]]}}" bind:change="__e" bind:__l="__l"></u-tabs></u-col><u-col vue-id="{{('797497d7-24')+','+('797497d7-21')}}" span="4" bind:__l="__l" vue-slots="{{['default']}}"><view style="margin-top:5px;"><u-search vue-id="{{('797497d7-25')+','+('797497d7-24')}}" placeholder="{{i18n.searchProducts}}" clearabled="{{true}}" show-action="{{false}}" action-text="{{i18n.search}}" animation="{{true}}" value="{{searchProductName}}" data-event-opts="{{[['^search',[['search']]],['^input',[['__set_model',['','searchProductName','$event',[]]]]]]}}" bind:search="__e" bind:input="__e" bind:__l="__l"></u-search></view></u-col></u-row><block wx:if="{{current==0||current==1}}"><view class="goods-list"><block wx:for="{{goodsList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['navToDetailPage',['$0'],[[['goodsList','',index]]]]]]]}}" class="goods-item" bindtap="__e"><view class="image-wrapper"><block wx:if="{{item.productMainImage}}"><image src="{{item.productMainImage.url}}" mode="aspectFill"></image></block></view><text class="title clamp">{{item.productName}}</text><view class="price-box"><text class="price">{{item.unitPrice}}</text><text>{{i18n.sold+" "+item.soldUnit}}</text></view></view></block></view></block><block wx:for="{{commentList}}" wx:for-item="comment" wx:for-index="__i1__"><block wx:if="{{current==2}}"><view class="comment-list"><view class="eva-box"><image class="portrait" src="{{comment.userDTO.photoUrl||'/static/missing-face.png'}}" mode="aspectFill"></image><view class="right"><view class="bot"><text class="attr">{{comment.userDTO.name}}</text><text class="time">{{comment.evaluateTime}}</text></view><view class="star"><block wx:for="{{stars}}" wx:for-item="item" wx:for-index="i"><block wx:if="{{i<comment.commentRank}}"><image src="../../static/temp/redstar.png" mode></image></block></block></view><text class="con">{{comment.commentContent||''}}</text></view></view><view class="eva-image"><block wx:for="{{comment.imageUrlList}}" wx:for-item="url" wx:for-index="__i2__"><image src="{{url}}" mode="aspectFill" data-event-opts="{{[['tap',[['previewImage',['$0'],[[['commentList','',__i1__],['imageUrlList','',__i2__]]]]]]]}}" bindtap="__e"></image></block></view><block wx:if="{{comment.replayContent}}"><view class="eva-reply"><text>{{i18n.merchant.reply+": "+comment.replayContent}}</text></view></block></view></block></block><uni-load-more vue-id="797497d7-26" status="{{loadingType}}" bind:__l="__l"></uni-load-more></view></view>