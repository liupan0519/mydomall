<view class="container"><view class="carousel"><swiper indicator-dots="{{true}}" circular="true" duration="400"><block wx:for="{{product.productVideos}}" wx:for-item="item" wx:for-index="index"><swiper-item><video style="width:100%;height:100%;" show-fullscreen-btn="{{true}}" autoplay="{{true}}" play-btn-position="center" src="{{item.url}}" controls="{{true}}"></video></swiper-item></block><block wx:for="{{product.productImages}}" wx:for-item="item" wx:for-index="index" wx:key="index"><swiper-item class="swiper-item"><view class="image-wrapper"><image class="loaded" src="{{item.url}}" mode="aspectFill"></image></view></swiper-item></block></swiper></view><block wx:if="{{!product.skuEnabled}}"><view class="introduce-section"><text class="title">{{product.productName}}</text><view class="price-box"><text class="price-tip">円</text><text class="price">{{product.unitPrice}}</text><text class="m-price">{{product.unitPriceStandard+"円"}}</text></view><view class="bot-row"><text>{{i18n.sortList.sales+": "+product.soldUnit}}</text><text>{{i18n.stock+": "+product.totalUnit}}</text><u-icon vue-id="1c037ce0-1" size="32" name="share" data-event-opts="{{[['^click',[['togglePopup',['bottom','share']]]]]}}" bind:click="__e" bind:__l="__l"></u-icon></view></view></block><block wx:if="{{product.skuEnabled}}"><view class="introduce-section"><text class="title">{{product.productName}}</text><view class="price-box"><text class="price-tip">円</text><text class="price">{{productSku.skuUnitPrice}}</text><text class="m-price">{{productSku.skuUnitPriceStandard+"円"}}</text></view><view class="bot-row"><text>{{i18n.sortList.sales+": "+productSku.skuSoldUnit}}</text><text>{{i18n.stock+": "+productSku.skuTotalUnit}}</text><u-icon vue-id="1c037ce0-2" size="32" name="share" data-event-opts="{{[['^click',[['togglePopup',['bottom','share']]]]]}}" bind:click="__e" bind:__l="__l"></u-icon></view></view></block><block wx:if="{{coupons.length>0}}"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="coupon-section" bindtap="__e"><view><u-button style="margin-right:10px;height:20px;line-height:20px;" vue-id="1c037ce0-3" type="error" size="mini" bind:__l="__l" vue-slots="{{['default']}}">{{i18n.coupon.coupons}}</u-button></view><block wx:for="{{coupons}}" wx:for-item="item" wx:for-index="index"><block wx:if="{{index<3}}"><view><u-button style="margin-right:5px;height:20px;line-height:20px;" vue-id="{{'1c037ce0-4-'+index}}" type="error" plain="{{true}}" size="mini" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{item.conditionAmount>0}}"><text>{{i18n.coupon.full+item.conditionAmount}}</text></block><block wx:else><text>{{i18n.coupon.rightAway}}</text></block><block wx:if="{{item.type=='CASH'}}"><text>{{i18n.coupon.less+item.benefitCash}}</text></block><block wx:if="{{item.type=='DISCOUNT'}}"><text>{{i18n.coupon.enjoy+item.benefitDiscount/10+i18n.coupon.discount}}</text></block></u-button></view></block></block><view class="coupon-btn"><text class="yticon icon-you"></text></view></view></block><u-popup bind:input="__e" vue-id="1c037ce0-5" mode="bottom" closeable="{{true}}" border-radius="14" width="100%" height="800" value="{{showCoupon}}" data-event-opts="{{[['^input',[['__set_model',['','showCoupon','$event',[]]]]]]}}" bind:__l="__l" vue-slots="{{['default']}}"><view class="coupon-title">{{i18n.coupon.getCoupons}}</view><view class="coupon-list"><block wx:for="{{coupons}}" wx:for-item="item" wx:for-index="__i0__"><view class="coupon-list-item"><u-row vue-id="{{('1c037ce0-6-'+__i0__)+','+('1c037ce0-5')}}" bind:__l="__l" vue-slots="{{['default']}}"><u-col vue-id="{{('1c037ce0-7-'+__i0__)+','+('1c037ce0-6-'+__i0__)}}" span="4" bind:__l="__l" vue-slots="{{['default']}}"><view class="coupon-left"><view class="c1"><block wx:if="{{item.type=='CASH'}}"><text class="amount">{{item.benefitCash}}</text></block><block wx:if="{{item.type=='DISCOUNT'}}"><text class="discount">{{item.benefitDiscount/10}}</text></block></view><view class="c2"><block wx:if="{{item.conditionAmount>0}}"><text>{{''+i18n.coupon.full+item.conditionAmount+i18n.coupon.available}}</text></block><block wx:else><text>{{''+i18n.coupon.noThreshold}}</text></block></view></view></u-col><u-col class="coupon-right" vue-id="{{('1c037ce0-8-'+__i0__)+','+('1c037ce0-6-'+__i0__)}}" span="8" bind:__l="__l" vue-slots="{{['default']}}"><view class="c1"><block wx:if="{{item.benefitType=='0'}}"><text>{{i18n.coupon.benefitType0}}</text></block><block wx:if="{{item.benefitType=='1'}}"><text>{{i18n.coupon.benefitType1}}</text></block></view><view class="c2"><block wx:if="{{item.validType==1}}"><text>{{''+i18n.coupon.endDate+item.endDate}}</text></block><block wx:if="{{item.validType==2}}"><text>{{''+i18n.coupon.receive+item.validDays+i18n.coupon.validDays}}</text></block></view><view class="c3"><u-button vue-id="{{('1c037ce0-9-'+__i0__)+','+('1c037ce0-8-'+__i0__)}}" plain="{{true}}" size="mini " type="error" data-event-opts="{{[['^click',[['getCoupon',['$0'],[[['coupons','',__i0__]]]]]]]}}" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}">{{i18n.coupon.getCoupon}}</u-button></view></u-col></u-row></view></block></view></u-popup><view class="c-list"><block wx:if="{{product.skuEnabled}}"><view data-event-opts="{{[['tap',[['toggleSpec',['$event']]]]]}}" class="c-row b-b" bindtap="__e"><text class="tit">{{i18n.order.buyType}}</text><view class="con"><block wx:for="{{productSku.skuAttrValueList}}" wx:for-item="sku" wx:for-index="__i1__"><text class="selected-text">{{''+sku.skuAttrValue+''}}</text></block></view><text class="yticon icon-you"></text></view></block><view class="c-row b-b"><text class="tit">{{i18n.order.number}}</text><view class="bz-list con"><block wx:if="{{product.skuEnabled}}"><uni-number-box class="step" vue-id="1c037ce0-10" min="{{1}}" max="{{productSku.skuTotalUnit}}" value="{{unit}}" isMax="{{unit>=productSku.skuTotalUnit?true:false}}" isMin="{{unit===1}}" data-event-opts="{{[['^eventChange',[['numberChange']]]]}}" bind:eventChange="__e" bind:__l="__l"></uni-number-box></block><block wx:if="{{!product.skuEnabled}}"><uni-number-box class="step" vue-id="1c037ce0-11" min="{{1}}" max="{{product.totalUnit}}" value="{{unit}}" isMax="{{unit>=product.totalUnit?true:false}}" isMin="{{unit===1}}" data-event-opts="{{[['^eventChange',[['numberChange']]]]}}" bind:eventChange="__e" bind:__l="__l"></uni-number-box></block></view></view><block wx:if="{{product.productFreightDTO}}"><view class="c-row b-b"><text class="tit">{{i18n.courier.courier}}</text><view class="bz-list con"><text>{{product.productFreightDTO.name}}</text></view></view></block><block wx:if="{{product.attrList.length>0}}"><view data-event-opts="{{[['tap',[['togglePopup',['bottom','attr']]]]]}}" class="c-row b-b" bindtap="__e"><text class="tit">{{i18n.product.attr}}</text><view class="bz-list con"><text>{{product.attrList[0].productAttrName+" "+product.attrList[0].productAttrValue+"..."}}</text></view><view class="bz-list action"><text class="yticon icon-you"></text></view></view></block><view class="c-row b-b"><text class="tit">{{i18n.courier.service}}</text><view class="bz-list con"><text>{{i18n.courier.noReason}}</text></view></view></view><view class="eva-section"><view class="e-header"><text class="tit">{{i18n.evaluate}}</text><text>{{"("+totalComment+")"}}</text><text data-event-opts="{{[['tap',[['navTo',['/pages/product/evaluate?id='+id]]]]]}}" class="tip" bindtap="__e">{{i18n.searchAll}}</text><text class="yticon icon-you"></text></view><block wx:for="{{commentList}}" wx:for-item="comment" wx:for-index="__i2__"><view><view class="eva-box"><image class="portrait" src="{{comment.userDTO.photoUrl||'/static/missing-face.png'}}" mode="aspectFill"></image><view class="right"><view class="bot"><text class="attr">{{comment.userDTO.name}}</text><text class="time">{{comment.evaluateTime}}</text></view><view class="star"><block wx:for="{{stars}}" wx:for-item="item" wx:for-index="i"><block wx:if="{{i<comment.commentRank}}"><image src="../../static/temp/redstar.png" mode></image></block></block></view><text class="con">{{comment.commentContent||''}}</text></view></view><view class="eva-image"><block wx:for="{{comment.imageUrlList}}" wx:for-item="url" wx:for-index="__i3__"><image src="{{url}}" mode="aspectFill" data-event-opts="{{[['tap',[['previewImage',['$0'],[[['commentList','',__i2__],['imageUrlList','',__i3__]]]]]]]}}" bindtap="__e"></image></block></view><block wx:if="{{comment.replayContent}}"><view class="eva-reply"><text>{{i18n.merchant.reply+": "+comment.replayContent}}</text></view></block></view></block></view><block wx:if="{{product.merchantDTO}}"><view class="store-box"><image class="portrait" src="/static/image/store.png" mode="aspectFill"></image><view class="right"><view class="bot"><text class="attr">{{product.merchantDTO.merchantName}}</text></view><view class="desc"><u-icon vue-id="1c037ce0-12" name="star-fill" color="#FC9F2A" size="30" bind:__l="__l"></u-icon>{{$root.g0+''}}</view></view><view data-event-opts="{{[['tap',[['navTo',['/pages/merchant/detail?id='+product.merchantDTO.merchantUuid]]]]]}}" class="action" bindtap="__e">{{''+i18n.toIndex+''}}</view></view></block><view class="detail-desc"><view class="d-header"><text>{{i18n.product.productDescImages}}</text></view><view class="image-wrapper"><block wx:for="{{product.productDescImages}}" wx:for-item="item" wx:for-index="__i4__"><image class="loaded" mode="widthFix" src="{{item.url}}"></image></block></view></view><view class="page-bottom"><navigator class="p-b-btn" url="/pages/index/index" open-type="switchTab"><text class="yticon icon-xiatubiao--copy"></text><text>{{i18n.product.index}}</text></navigator><navigator class="p-b-btn" url="/pages/cart/cart" open-type="switchTab"><text class="yticon icon-gouwuche_"></text><text>{{i18n.product.cart}}</text><block wx:if="{{cartNum>0}}"><uni-badge vue-id="1c037ce0-13" type="error" text="{{cartNum+''}}" bind:__l="__l"></uni-badge></block></navigator><view data-event-opts="{{[['tap',[['toFavorite',['$event']]]]]}}" class="{{['p-b-btn',(isProductCollected)?'active':'']}}" bindtap="__e"><text class="yticon icon-shoucang"></text><text>{{i18n.product.toFavorite}}</text></view><view class="action-btn-group"><button class=" action-btn no-border buy-now-btn" type="primary" data-event-opts="{{[['tap',[['buy',['$event']]]]]}}" bindtap="__e">{{i18n.product.buy}}</button><button class=" action-btn no-border add-cart-btn" type="primary" data-event-opts="{{[['tap',[['addCart',['$event']]]]]}}" bindtap="__e">{{i18n.product.addCart}}</button></view></view><view data-event-opts="{{[['touchmove',[['stopPrevent',['$event']]]],['tap',[['toggleSpec',['$event']]]]]}}" class="{{['popup spec',specClass]}}" catchtouchmove="__e" bindtap="__e"><view class="mask"></view><view data-event-opts="{{[['tap',[['stopPrevent',['$event']]]]]}}" class="layer attr-content" catchtap="__e"><view class="a-t"><block wx:if="{{product.productMainImage}}"><image src="{{product.productMainImage.url}}"></image></block><view class="right"><text class="price">{{productSku.skuUnitPrice+"円"}}</text><text class="stock">{{i18n.stock+"："+productSku.skuTotalUnit+i18n.productUnit}}</text><view class="selected">{{''+i18n.selected+'：'}}<block wx:for="{{productSku.skuAttrValueList}}" wx:for-item="sku" wx:for-index="__i5__"><text class="selected-text">{{''+sku.skuAttrValue+''}}</text></block></view></view></view><view class="attr-list"><view class="item-list"><block wx:for="{{product.skuList}}" wx:for-item="childItem" wx:for-index="childIndex" wx:key="childIndex"><view data-event-opts="{{[['tap',[['selectSpec',['$0'],[[['product.skuList','',childIndex]]]]]]]}}" class="{{['item',(productSku.productSkuUuid===childItem.productSkuUuid)?'selected':'']}}" bindtap="__e"><block wx:for="{{childItem.skuAttrValueList}}" wx:for-item="attrValue" wx:for-index="__i6__"><text>{{attrValue.skuAttrValue}}</text></block></view></block></view></view><block wx:if="{{productSku.skuTotalUnit>0}}"><button data-event-opts="{{[['tap',[['toggleSpec',['$event']]]]]}}" class="btn" bindtap="__e">{{i18n.complete}}</button></block><block wx:if="{{productSku.skuTotalUnit===0}}"><button class="btn disabled" disabled="disabled">{{i18n.nostock}}</button></block></view></view><uni-popup class="vue-ref" vue-id="1c037ce0-14" type="{{type}}" data-ref="showshare" data-event-opts="{{[['^change',[['change']]]]}}" bind:change="__e" bind:__l="__l" vue-slots="{{['default']}}"><share-by-wx vue-id="{{('1c037ce0-15')+','+('1c037ce0-14')}}" shareType="{{3}}" goodsId="{{product.productUuid}}" shareImg="{{product.productMainImage.url}}" shareTitle="{{product.productName}}" shareContent="{{product.productBrief}}" shareHref="{{'/pages/product/product?id='+product.productUuid}}" data-event-opts="{{[['^close',[['closeShare']]]]}}" bind:close="__e" bind:__l="__l"></share-by-wx></uni-popup><uni-popup class="vue-ref" vue-id="1c037ce0-16" type="{{type}}" data-ref="showattr" bind:__l="__l" vue-slots="{{['default']}}"><view class="c-list pb50"><block wx:for="{{product.attrList}}" wx:for-item="item" wx:for-index="__i7__"><view class="c-row b-b"><text class="tit">{{item.productAttrName}}</text><view class="bz-list con"><text>{{item.productAttrValue}}</text></view></view></block></view><button data-event-opts="{{[['tap',[['closeAttr',['$event']]]]]}}" class="close-btn" bindtap="__e">{{i18n.closed}}</button></uni-popup></view>